{"version":3,"sources":["components/views/WebVisits.js"],"names":["WebVisits","useEffect","counters","$","empty","db","collection","doc","streamer","orderBy","onSnapshot","arrayCounter","a","forEach","push","id","auth","onAuthStateChanged","user","uid","counter","append","fetch","then","response","json","data","value","html","Zfill","className"],"mappings":"gOAsDeA,UA9CG,WAsCd,OArCAC,qBAAU,WACN,IAAIC,EAAW,GACfC,IAAE,aAAaC,QACfC,IAAGC,WAAW,SAASC,IAAIC,KAAUF,WAAW,WAAWG,QAAQ,aACxEC,WADK,uCACM,WAAMC,GAAN,SAAAC,EAAA,sDACXD,EAAaE,SAAQ,SAACN,GACrBL,EAASY,KAAKP,EAAIQ,OAEnBC,IAAKC,oBAAmB,SAAAC,GACR,iCAAXA,EAAKC,IACRjB,EAASY,KAAK,MAAM,UAAU,SAEfZ,EAASY,KAAK,UAG3BZ,GACHA,EAASW,QAAT,uCAAiB,WAAMO,GAAN,SAAAR,EAAA,6DAChBT,IAAE,aAAakB,OAAf,iIAGqBD,EAHrB,qEAGyFA,EAHzF,uDADgB,SAQVE,MAAM,iCAAD,OAAkCd,IAAlC,YAA8CY,IACxDG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACDA,EAAKC,MACRxB,IAAE,IAAD,OAAKiB,IAAWQ,KAAKC,YAAMH,EAAKC,MAAM,KAEvCxB,IAAE,IAAD,OAAKiB,IAAWQ,KAAKC,YAAM,GAAG,QAdjB,2CAAjB,uDAZU,2CADN,0DAmCA,qCACL,oBAAIC,UAAU,4BAAd,qBACS,qBAAKf,GAAG","file":"static/js/7.fc8ac1d6.chunk.js","sourcesContent":["import './WebVisits.scss'\r\nimport $ from 'jquery';\r\nimport { useEffect } from 'react';\r\nimport { Zfill } from '../resources/Helpers';\r\nimport { streamer } from '../resources/Config';\r\nimport { auth, db } from '../resources/Firebase';\r\nimport './WebVisits.scss'\r\n\r\nconst WebVisits = () => {\r\n    useEffect(() => {\r\n        var counters = []\r\n        $(\"#counters\").empty()\r\n        db.collection(\"users\").doc(streamer).collection(\"buttons\").orderBy(\"timestamp\")\r\n\t\t.onSnapshot(async(arrayCounter) => {\r\n\t\t\tarrayCounter.forEach((doc) => {\r\n\t\t\t\tcounters.push(doc.id);\r\n\t\t\t});\r\n\t\t\tauth.onAuthStateChanged(user => {\r\n\t\t\t\tif (user.uid==='jQPjgz4oLNfUjwow3MyV276SyBK2') {\r\n\t\t\t\t\tcounters.push('web','creador','email')\r\n\t\t\t\t} else {\r\n                    counters.push('web')\r\n                }\r\n\t\t\t})\r\n\t\t\tif (counters) {\r\n\t\t\t\tcounters.forEach(async(counter) => {\r\n\t\t\t\t\t$(\"#counters\").append(\r\n\t\t\t\t\t\t`<div class=\"boton-little\">\r\n\t\t\t\t\t\t\t<div class=\"col d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<img src=\"./img/${counter}.png\" class=\"icon-little\"></img><div class=\"counters\" id=\"${counter}\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>`\r\n\t\t\t\t\t)\r\n\t\t\t\t\tawait fetch(`https://api.countapi.xyz/info/${streamer}/${counter}`)\r\n\t\t\t\t\t.then(response => response.json())\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif (data.value) {\r\n\t\t\t\t\t\t\t$(`#${counter}`).html(Zfill(data.value,10))\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(`#${counter}`).html(Zfill('',10))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n    })\r\n    return (\r\n        <>\r\n\t\t\t<h5 className=\"text-light titulo-h4 mt-4\">Visitas</h5>\r\n            <div id=\"counters\"></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default WebVisits;"],"sourceRoot":""}